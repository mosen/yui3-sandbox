<!DOCTYPE html>
<html>
    <head>
        <title>YUI Sandbox</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="http://yui.yahooapis.com/3.3.0/build/yui/yui-min.js"
        charset="utf-8"></script>
    </head>
    <body class="yui3-skin-sam">

        <div id="testnode"></div>

        <script type="text/javascript">
                YUI({
                    filter: (window.location.search.match(/[?&]filter=([^&]+)/) || [])[1] || 'min',
                    //useBrowserConsole: true,
                    allowRollup: false,
                    modules : {
                        'gallery-datatable-tableevents' : {
                            'fullpath' : '../../../build/gallery-datatable-tableevents/gallery-datatable-tableevents-debug.js',
                            'requires' : ['datatable']
                        }
                    }
                }).use(
                    "console"
                    ,"profiler"
                    ,"gallery-datatable-tableevents"
                    ,function(Y) {
                        
                        // Make a ton of random data
                        var cols = [],
                            rows = [],
                            numrows = 400,
                            crow,
                            abc = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
                        
                        for (var ci = 0; ci < 40; ci++) {
                            cols.push(abc[ci]);
                        }
                        
                        for (var cd = 0; cd < numrows; cd++) {
                            crow = {};
                            
                            for (var cr = 0; cr < cols.length; cr++) {
                                crow[cols[cr]] = abc[Math.floor(Math.random() * abc.length)];
                            }
                            
                            rows.push(crow);
                        }

                        var dt = new Y.DataTable.Base({
                            columnset : cols,
                            summary : "DataTable Events Test",
                            recordset : rows
                        });
                        
                        dt.on('rowMouseenter', function(e) { e.event.currentTarget.setStyle('backgroundColor', '#bbeeff'); });
                        dt.on('rowMouseleave', function(e) { e.event.currentTarget.setStyle('backgroundColor', null); });
                        
                        dt.on('columnMouseenter', function(e) { Y.log(e); e.cells().setStyle('backgroundColor', '#bbeeff'); });
                        dt.on('columnMouseleave', function(e) { e.cells().setStyle('backgroundColor', null); });
                        //dt.on('columnMouseenter', function(e) { Y.all('td[headers=' + e.column.get('id') + ']').setStyle('backgroundColor', '#bbeeff'); });
                        //dt.on('columnMouseleave', function(e) { Y.all('td[headers=' + e.column.get('id') + ']').setStyle('backgroundColor', null); });
                        
                        //dt.on('cellMouseenter', function(e) { e.event.currentTarget.setStyle('backgroundColor', '#ffddbb'); });
                        //dt.on('cellMouseleave', function(e) { e.event.currentTarget.setStyle('backgroundColor', null); });
                        dt.on('cellClick', function(e) { e.event.currentTarget.setStyle('backgroundColor', '#000000'); });

                Y.Profiler.registerFunction("dt._createTbodyTdNode", dt);

                dt.after('render', function(e) {
                    var report = Y.Profiler.getReport("dt._createTbodyTdNode");
                    Y.log(report);
                    Y.log(report.calls * report.avg);
                });

                dt.render('#testnode');
                        
                        

                });
        </script>
    </body>
</html>
