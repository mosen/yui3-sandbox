YUI.add("gallery-dp-datalist",function(c){var b=c.Lang,a=c.Node;c.namespace("DP").DataList=c.Base.create("gallery-dp-datalist",c.Widget,[],{initializer:function(d){this.publish("success",{defaultFn:this._defResponseSuccessFn});this.publish("loading",{defaultFn:this._defLoadingFn});this._ioCallback={complete:c.bind(this._handleResponse,this,"complete"),success:c.bind(this._handleResponse,this,"success"),failure:c.bind(this._handleResponse,this,"failure"),end:c.bind(this._handleResponse,this,"end")};},renderUI:function(){var d=a.create(c.substitute(this.NODE_TEMPLATE,{className:this.getClassName("list")}));this.get("contentBox").append(d);},_renderItems:function(e){var f=0,d=c.bind(this.get("fnRender"),this),g={ul:this.get("contentBox").one("ul")};for(;f<e.length;f++){g.item=e[f];d(g);}},bindUI:function(){this.after("dataChange",this._uiSetItems,this);this.get("contentBox").delegate("click",c.bind(this._handleItemClicked,this),"a");},syncUI:function(){this.get("source").sendRequest({request:this.get("initialRequest"),callback:this._ioCallback});},destructor:function(){},_handleResponse:function(d,f){this.fire(d,{id:this._io,response:f.response});this._io=null;},_defResponseSuccessFn:function(d){this.set("data",d.response.results);this.set("loading",false);},_defLoadingFn:function(d){this.set("loading",true);},_handleItemClicked:function(){},_uiSetItems:function(d){this.get("contentBox").one("ul").set("innerHTML","");this._renderItems(this.get("data"));},_ioCallback:{},ITEM_TEMPLATE:'<li class="{className}"><a href="#{anchor}">{title}</a></li>',NODE_TEMPLATE:'<ul class="{className}"></ul>'},{NAME:"datalist",HTML_PARSER:{},ATTRS:{strings:{value:{}},source:{value:null},data:{value:null},initialRequest:{value:""},loading:{value:false,readOnly:true},titlekey:{value:"value"},anchorkey:{value:"key"},fnRender:{value:function(g){var f=g.item,e=this.get("titlekey"),d=this.get("anchorkey");g.ul.append(c.substitute(this.ITEM_TEMPLATE,{className:this.getClassName("item"),anchor:f[d],title:f[e]}));},validator:c.Lang.isFunction}}});},"@VERSION@",{requires:["widget","datasource"]});