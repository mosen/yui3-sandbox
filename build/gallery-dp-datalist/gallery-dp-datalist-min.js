YUI.add("gallery-dp-datalist",function(c){var a=c.Node,b=c.ClassNameManager.getClassName;c.namespace("DP").DataList=c.Base.create("gallery-dp-datalist",c.Widget,[],{initializer:function(d){this.publish("success",{defaultFn:this._defResponseSuccessFn});this._ioCallback={complete:c.bind(this._handleResponse,this,"complete"),success:c.bind(this._handleResponse,this,"success"),failure:c.bind(this._handleResponse,this,"failure"),end:c.bind(this._handleResponse,this,"end")};},renderUI:function(){},_renderItems:function(e){var f=0,d=c.bind(this.get("fnRender"),this),g=this.get("contentBox");for(;f<e.length;f++){g.append(this._renderItem(d,e[f]));}},_renderItem:function(d,e){return c.Node.create(c.substitute(this.LISTITEM_TEMPLATE,{content:d(e),className:this.getClassName("item"),id:e[this.get("anchorkey")]}));},bindUI:function(){this.after("dataChange",this._uiSetItems,this);this.get("contentBox").delegate("click",c.bind(this._handleItemClicked,this),"."+this.getClassName("itemlink"));},syncUI:function(){this.get("source").sendRequest({request:this.get("initialRequest"),callback:this._ioCallback});},destructor:function(){this.get("contentBox").detach("click");},_handleResponse:function(d,f){this.fire(d,{id:this._io,response:f.response});this._io=null;},_defResponseSuccessFn:function(d){this.set("data",d.response.results);},_handleItemClicked:function(d){},_uiSetItems:function(d){this.get("contentBox").set("innerHTML","");this._renderItems(this.get("data"));},_ioCallback:{},ITEM_TEMPLATE:'<a href="#{anchor}">{title}</a>',LISTITEM_TEMPLATE:'<li class="{className}">{content}</li>',CONTENT_TEMPLATE:"<ul></ul>"},{NAME:"datalist",HTML_PARSER:{},ATTRS:{source:{value:null},data:{value:null},initialRequest:{value:""},fnRender:{value:function(d){return c.substitute(this.ITEM_TEMPLATE,{className:this.getClassName("item"),anchor:d["id"],title:d["title"]});},validator:c.Lang.isFunction}}});},"@VERSION@",{requires:["widget","datasource"]});