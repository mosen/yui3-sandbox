YUI.add("gallery-dp-editable",function(c){var g=c.Lang,d=c.ClassNameManager.getClassName,a=d("gallery","dp","editable"),b=a+"-form",h=a+"-input",f=a+"-submit",j=a+"-cancel",e=a+"-placeholder";function i(){}c.mix(i,{NAME:"editable-base",ATTRS:{strings:{value:{tooltip:"Click to edit...",cancel:"Cancel",submit:"OK",indicator:"Saving...",placeholder:"Click to edit..."}},editnode:{value:null},type:{value:"text",validator:"_validateAttrType"},url:{value:null},method:{value:"POST"},loadurl:{value:null},editing:{value:false},select:{value:false},inputWidth:{value:"auto"},inputHeight:{value:"auto"}},HTML_PARSER:{}});i.prototype={initializer:function(k){},destructor:function(){},_bindEditableBase:function(){this.get("editnode").on("click",c.bind(this.startEditing,this));},_syncEditableBase:function(){this.get("editnode").set("title",this.get("strings.tooltip"));if(this.get("editnode").get("innerHTML").length==0){this.get("editnode").append(c.Node.create(c.substitute(this.TEMPLATE_PLACEHOLDER,{className:e,text:this.get("strings.placeholder")})));}},_validateAttrType:function(k){return("textarea"==k||"text"==k||"select"==k)?true:false;},_renderForm:function(){var l=this.get("type"),n=c.Node.create(c.substitute(this.TEMPLATE_FORM,{className:b})),k,m;switch(l){case"textarea":k=c.Node.create(c.substitute(this.TEMPLATE_INPUT_TEXTAREA,{className:h}));break;case"select":k=c.Node.create(c.substitute(this.TEMPLATE_INPUT_SELECT,{className:h}));break;case"text":default:k=c.Node.create(c.substitute(this.TEMPLATE_INPUT_TEXT,{className:h}));break;}k.setStyle("width",this.get("inputWidth"));k.setStyle("height",this.get("inputHeight"));n.append(k);this._input=k;m=c.Node.create(c.substitute(this.TEMPLATE_BUTTONS,{classNameSubmit:f,classNameCancel:j,labelSubmit:this.get("strings.submit"),labelCancel:this.get("strings.cancel")}));n.append(m);return n;},startEditing:function(p){if(true==this.get("editing")){return false;}var n=this._renderForm(),q=this.get("inputWidth"),m=this.get("inputHeight"),o=this.get("editnode"),r=o.get("textContent"),k="auto"==q?o.get("offsetWidth"):q,l="auto"==m?o.get("offsetHeight"):m;o.set("innerHTML","");o.append(n);this._input.set("value",r);this._input.setStyle("width",k);this._input.setStyle("height",l);this._input.focus();this.set("editing",true);},stopEditing:function(){},TEMPLATE_FORM:'<form class="{className}"></form>',TEMPLATE_INPUT_TEXT:'<input type="text" class="{className}"></input>',TEMPLATE_INPUT_TEXTAREA:'<textarea class="{className}"></textarea>',TEMPLATE_INPUT_SELECT:'<select class="{className}"></select>',TEMPLATE_BUTTONS:'<input type="button" value="{labelCancel}" class="{classNameCancel}"></input><input type="button" value="{labelSubmit}" class="{classNameSubmit}"></input>',TEMPLATE_PLACEHOLDER:'<span class="{className}">{text}</span>',_input:null};c.namespace("DP").EditableBase=i;EditablePlugin=c.Base.create("editablePlugin",c.Plugin.Base,[c.DP.EditableBase],{initializer:function(k){this.set("editnode",k.host);this._bindEditableBase();this._syncEditableBase();}},{NS:"editable",NAME:"editable"});c.namespace("DP").EditablePlugin=EditablePlugin;},"@VERSION@",{requires:["base","plugin"]});