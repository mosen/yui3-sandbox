YUI.add("gallery-dp-datatable-plugin-selection",function(c){var b=c.ClassNameManager.getClassName;function a(){a.superclass.constructor.apply(this,arguments);}c.mix(a,{NS:"selection",NAME:"selection",ATTRS:{selection:{value:[],validator:c.Lang.isArray}}});c.extend(a,c.Plugin.Base,{initializer:function(d){var e=this.get("host").get("recordset");this.onHostEvent("rowClick",this._onHostRowClick);this.onHostEvent("rowMouseover",this._onHostRowMouseenter);this.onHostEvent("rowMouseout",this._onHostRowMouseleave);this.after("selectionChange",this._uiSetSelection);},destructor:function(){},_onHostRowClick:function(f){var d=f.node;this.select(d);},_onHostRowMouseenter:function(d){d.event.currentTarget.addClass(b("datatable","row","over"));},_onHostRowMouseleave:function(d){d.event.currentTarget.removeClass(b("datatable","row","over"));},_uiSetSelection:function(d){this.get("host")._tableNode.all("."+b("datatable","row","selected")).removeClass(b("datatable","row","selected"));c.Array.each(d.newVal,function(e){c.Node.one("TR#"+e).addClass(b("datatable","row","selected"));},this);},select:function(d,g){var f=this.get("selection"),e;if(d instanceof c.Node){e=[d.get("id")];}c.Array.each(e,function(i){var h=f.indexOf(i);if(h>-1){f.splice(h,1);}else{f.push(i);}},this);this.set("selection",f);}});c.namespace("DP").DatatableSelection=a;},"@VERSION@",{requires:["datatable","gallery-datatable-tableevents","recordset"]});