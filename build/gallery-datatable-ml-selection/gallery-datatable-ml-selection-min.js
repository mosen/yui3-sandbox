YUI.add("gallery-datatable-ml-selection",function(a){function c(){c.superclass.constructor.apply(this,arguments)}var b=a.ClassNameManager.getClassName;a.mix(c,{NS:"selection",NAME:"selection",ATTRS:{selection:{value:[],validator:a.Lang.isArray},multiple:{value:!1,validator:a.Lang.isBoolean},ancestor:{value:null}}}),a.extend(c,a.Plugin.Base,{initializer:function(a){this.onHostEvent("rowClick",this._onHostRowClick),this.onHostEvent("rowMouseover",this._onHostRowMouseenter),this.onHostEvent("rowMouseout",this._onHostRowMouseleave),this.after("selectionChange",this._uiSetSelection)},destructor:function(){},_onHostRowClick:function(a){var b=a.node;!a.inThead&&!a.inTfoot&&(this.get("ancestor")!==null?b.ancestor(this.get("ancestor"))&&this.select(b):this.select(b))},_onHostRowMouseenter:function(a){a.event.currentTarget.addClass(b("datatable","row","over"))},_onHostRowMouseleave:function(a){a.event.currentTarget.removeClass(b("datatable","row","over"))},_uiSetSelection:function(c){this.get("host")._tableNode.all("."+b("datatable","row","selected")).removeClass(b("datatable","row","selected")),a.Array.each(c.newVal,function(c){a.Node.one("TR#"+c).addClass(b("datatable","row","selected"))},this)},select:function(b,c){var d=this.get("selection"),e;b instanceof a.Node&&(e=[b.get("id")]),this.get("multiple")===!0?a.Array.each(e,function(a){var b=d.indexOf(a);b>-1?d.splice(b,1):d.push(a)},this):d=e,this.set("selection",d)}}),a.namespace("DP").DatatableMlSelection=c},"1.0.0",{requires:["gallery-datatable-ml"],skinnable:!0})