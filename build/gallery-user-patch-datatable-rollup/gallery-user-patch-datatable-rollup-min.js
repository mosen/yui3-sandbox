YUI.add("gallery-user-patch-datatable-rollup",function(b){b.Plugin.DataTableScroll.prototype.injected_initializer=b.Plugin.DataTableScroll.prototype.initializer;b.Plugin.DataTableScroll.prototype.initializer=function(q){this.get("host").after("recordsetChange",b.bind(this.syncUI,this));this.injected_initializer(q);};b.Plugin.DataTableScroll.prototype.injected_syncWidths=b.Plugin.DataTableScroll.prototype._syncWidths;b.Plugin.DataTableScroll.prototype._syncWidths=function(){var s=this.get("host"),r=s.get("recordset"),q=r.getLength();if(q===0){return false;}else{this.injected_syncWidths();}};var h=b.ClassNameManager.getClassName,p="datatable",o=h(p,"liner"),c='<td headers="{headers}" class="{classnames}"><div class="'+o+'"></div></td>';b.DataTable.Base.prototype._createTbodyTdNode=function(s){var r=s.column,q=null;s.headers=r.headers;s.classnames=r.get("classnames");s.td=b.Node.create(b.substitute(c,s));s.liner=s.td.one("div");q=this.formatDataCell(s);if(b.Lang.isString(q)){s.value=q;s.liner.append(q);}return s.td;};b.Plugin.DataTableSort.prototype._beforeCreateTheadThNode=function(q){if(q.column.get("sortable")){q.value=b.substitute(this.get("template"),{link_class:q.link_class||"",link_title:q.column.get("title")||q.column.get("key"),link_href:"#",value:q.value});}};b.DataTable.Base.prototype._addCaptionNode=function(r){var q=this.get("caption");if(q){this._captionNode=b.Node.create("<caption></caption>");return this._captionNode;}else{this._captionNode=b.Node.create("<caption></caption>");return this._captionNode;}};b.DataTable.Base.prototype._uiSetCaption=function(q){q=b.Lang.isValue(q)?q:"";if(q==""){if(b.Lang.isValue(this._captionNode)){this._captionNode.remove();}}else{if(!b.Lang.isValue(this._captionNode)){this._captionNode=this._tableNode.createCaption();}this._captionNode.setContent(q);}};b.Plugin.DataTableDataSource.prototype.onDataReturnInitializeTable=function(r){var s=this.get("host").get("recordset"),q=b.Object(s);q.set("records",r.response.results);this.get("host").set("recordset",q);};var h=b.ClassNameManager.getClassName,p="datatable",d=h(p,"first"),m=h(p,"last");b.DataTable.Base.prototype._createTheadTrNode=function(x,r,w){x.id=b.guid();var v=b.Node.create(b.substitute(this.get("trTemplate"),x)),t=0,s=x.columns,q=s.length,u;if(r){v.addClass(d);}if(w){v.addClass(m);}for(;t<q;++t){u=s[t];this._addTheadThNode({value:u.get("label"),column:u,tr:v});}return v;};var n=b.Node,l=b.Lang,h=b.ClassNameManager.getClassName,p="datatable",a=h(p,"hd"),g=h(p,"bd"),f=h(p,"data"),k=h(p,"scrollable"),j='<div class="'+a+'"></div>',e='<div class="'+g+'"></div>',i="<table></table>";b.Plugin.DataTableScroll.prototype.injected_syncWidths=function(){var q=n.all("#"+this._parentContainer.get("id")+" ."+a+" table thead th"),C=n.one("#"+this._parentContainer.get("id")+" ."+g+" table ."+f),r=C.get("firstChild").get("children"),s,x,A,w,y,u,t,v,z;var B=function(D){return parseFloat(D.split("px")[0]);};for(s=0,x=q.size();s<x;s++){y=q.item(s).get("firstChild");u=r.item(s).get("firstChild");A=B(y.getComputedStyle("width"));w=B(r.item(s).getComputedStyle("width"));t=B(y.getComputedStyle("paddingLeft"))+B(y.getComputedStyle("paddingRight"));v=B(u.getComputedStyle("paddingLeft"))+B(u.getComputedStyle("paddingRight"));if(A>w){u.setStyle("width",(A-t+"px"));}else{if(w>A){y.setStyle("width",(w-v+"px"));if(b.UA.ie){z=C.all(".yui3-column-"+q.item(s).get("id"));z.get("firstChild").setStyle("width",(w-v+"px"));}else{u.setStyle("width",(w-v+"px"));}}}}};},"@VERSION@");