YUI.add("gallery-dp-datatable-plugin-footer",function(e){var c=e.Lang,d=e.ClassNameManager.getClassName,f="datatable",a=d(f,"liner"),b=e.Node;e.namespace("DP").DataTableFooter=e.Base.create("gallery-dp-datatable-plugin-footer",e.Plugin.Base,[],{initializer:function(g){this.afterHostMethod("render",this._renderFooter);this.afterHostEvent("recordsetChange",this._renderColumnValues);},destructor:function(){},_renderFooter:function(){var g=this.get("columnset");this._tfoot=b.create(e.substitute(this.get("tfootTemplate"),{tfootClassName:this.get("host").getClassName("footer","tfoot"),trClassName:this.get("host").getClassName("footer","tr")}));this.get("host").get("contentBox").one("table").append(this._tfoot);},_renderColumnValues:function(){var h=this.get("columnset"),j,k=this._tfoot.one("tr"),g="",i=1;k.set("content","");e.Array.each(h,function(l){if(c.isFunction(l.value)){g=l.value(this.get("host").get("recordset"));}else{g=l.value;}if(l.span!==undefined){i=l.span;}else{i=1;}j=b.create(e.substitute(this.get("tdTemplate"),{tdClassName:this.get("host").getClassName("footer","col"),linerClassName:a,tdColSpan:i,value:g}));k.append(j);},this);}},{_tfoot:undefined,NAME:"datatableFooter",NS:"dtfoot",ATTRS:{columnset:{value:Array()},tfootTemplate:{value:'<tfoot class="{tfootClassName}"><tr class="{trClassName}"></tr></tfoot>'},tdTemplate:{value:'<td class="{tdClassName}" colspan="{tdColSpan}"><div class="{linerClassName}">{value}</div></td>'}},calculatePriceTotal:function(g,h){return function(k){var i=0,j=k.getValuesByKey(g);e.Array.each(j,function(l){i+=e.DataType.Number.parse(l);});if(!c.isObject(h)){h={prefix:"$",thousandsSeparator:",",decimalSeparator:".",decimalPlaces:2};}return e.DataType.Number.format(i,h);};}});},"@VERSION@",{requires:["base","datatable","datatype"]});